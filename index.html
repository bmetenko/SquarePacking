<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>PyScript Square Packing</title>

    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />

    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>

    <script type='text/javascript'>
      function plot(graph, chart) {
          var figure = JSON.parse(graph)
          Plotly.newPlot(chart, figure, {});
          window.onresize = function() {
            Plotly.relayout(chart, {
            'xaxis.autorange': true,
            'yaxis.autorange': true
              });
            };
      }
      
    </script>

  </head>

  <body>

<py-env>
  - pandas
  - numpy
  - plotly
  - paths:
      - ./squares.py
</py-env>
<div id="chart1" style="width: 100vw; height: 100vh;"></div>
<py-script>
import js
import json
import pandas as pd
import numpy as np
import plotly
import plotly.graph_objects as go
import plotly.io as pio
from squares import Square, SquareCanvas, check_bounds

list_square_radii_1 = [3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1]
list_squares_1 = [Square(radius) for radius in list_square_radii_1]

B = SquareCanvas(max_bound=8, contents=list_squares_1)

fig = B.generate_plotly(render="object")

graphJSON = json.dumps(
  fig, 
  cls=plotly.utils.PlotlyJSONEncoder
  )
js.plot(graphJSON,"chart1")

    </py-script>
  </body>
</html>